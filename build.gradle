buildscript {
  ext.kotlin_version = '1.0.0-beta-3595'
  repositories {
    jcenter()
  }
  dependencies {
    classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlin_version}"
  }
}

plugins {
  id 'java'
  id 'application'
  id "com.github.johnrengelman.shadow" version "1.2.1"
}

apply plugin: 'kotlin'

project.ext.sourceCompatibility = "1.8"
project.ext.targetCompatibility = "1.8"

repositories {
  jcenter()
}
project.mainClassName = "griffio.MainApplication"

project.dependencies {

  ext.dagger_version = "2.0.1"
  ext.guava_version = "18.0"
  ext.jpa_version = "2.1.0"
  ext.junit_version = "4.12"
  ext.kotlin_version = "1.0.0-beta-3595"
  ext.querydsl_version = "4.0.6"
  ext.truth_version = "0.27"

  compile(
      "com.google.dagger:dagger:${dagger_version}",
      "com.querydsl:querydsl-collections:${querydsl_version}",
      "com.querydsl:querydsl-jpa:${querydsl_version}",
      "org.eclipse.persistence:javax.persistence:${jpa_version}",
      "org.jetbrains.kotlin:kotlin-stdlib:${kotlin_version}",
      "com.google.guava:guava:${guava_version}")

  kapt(
      "com.querydsl:querydsl-apt:${querydsl_version}:jpa",
      "org.eclipse.persistence:javax.persistence:${jpa_version}",
      "com.google.dagger:dagger-compiler:${dagger_version}")

  testCompile(
      "junit:junit:${junit_version}",
      "com.google.truth:truth:${truth_version}"
  )

}

kapt {
  generateStubs = false
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.5'
}